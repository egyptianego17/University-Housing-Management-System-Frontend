import{e as g,a as o,j as e}from"./index-D8aWpDMp.js";import{c as u}from"./authApi-zIXH8Ve0.js";import{u as m}from"./App-CDwrLgWx.js";import"./index-BJfaFLSw.js";import"./axiosInstance-CSnntCs6.js";const p=()=>{const[n]=g(),l=n==="dark",t=m(),[a,i]=o.useState(null);o.useEffect(()=>{(async()=>{try{if(!localStorage.getItem("token")){t("/login");return}const r=await u();r.status==="Token is valid"&&r.firstName?i(r):t("/login")}catch(s){console.error("Token validation failed:",s),t("/login")}})()},[t]);const c=()=>{t("/student/myprofile")},d=()=>{localStorage.removeItem("token"),localStorage.removeItem("role"),t("/login")};return a?e.jsx("div",{dir:"rtl",className:`min-h-screen flex items-center justify-center px-4 ${l?"dark":""} bg-gray-100 dark:bg-gray-900 transition-all duration-300`,children:e.jsxs("div",{className:"p-8 rounded-lg shadow-lg bg-white dark:bg-gray-800 w-full max-w-md transition-all duration-300",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:["مرحباً، ",a.firstName]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"هل تريد المتابعة بحسابك الحالي أو تسجيل الدخول بحساب جديد؟"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("button",{onClick:c,className:"w-full py-2 text-white bg-blue-600 rounded hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 transition",children:"المتابعة بحسابي"}),e.jsx("button",{onClick:d,className:"w-full py-2 text-blue-600 bg-gray-200 rounded hover:bg-gray-300 dark:bg-gray-700 dark:text-blue-400 dark:hover:bg-gray-600 transition",children:"تسجيل الدخول بحساب جديد"})]})]})}):null};export{p as default};
